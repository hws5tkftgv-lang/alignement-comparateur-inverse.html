<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="Alignement">
<title>Alignement – Comparateur inversé</title>

<style>
:root{
  --bg:#0b1436;
  --card:#121c4a;
  --ok:#4caf50;
  --bad:#ff5252;
  --accent:#00a2ff;
}

body{
  margin:0;
  font-family:Arial, system-ui, sans-serif;
  background:var(--bg);
  color:#eaf1ff;
}

header{
  padding:14px;
  font-size:18px;
  font-weight:bold;
  text-align:center;
}

.step{
  background:var(--card);
  margin:12px;
  padding:14px;
  border-radius:14px;
}

.step h2{
  margin:0 0 8px;
  font-size:16px;
}

.step p{
  font-size:13px;
  opacity:0.9;
}

input{
  width:100%;
  padding:10px;
  font-size:16px;
  margin-top:6px;
  border-radius:10px;
  border:none;
}

button{
  width:100%;
  margin-top:10px;
  padding:12px;
  font-size:16px;
  border:none;
  border-radius:12px;
  background:var(--accent);
  color:white;
}

.status{
  margin-top:8px;
  font-weight:bold;
}

.ok{ color:var(--ok); }
.bad{ color:var(--bad); }

.locked{
  opacity:0.4;
  pointer-events:none;
}
</style>
</head>

<body>

<header>Alignement – Comparateur inversé (mils)</header>

<!-- ÉTAPE 1 -->
<div class="step" id="step1">
  <h2>1️⃣ Vérification du voilage</h2>
  <p>Valider que les arbres sont acceptables avant l’alignement.</p>
  <button onclick="validateStep(1)">Voilage OK</button>
  <div class="status" id="status1"></div>
</div>

<!-- ÉTAPE 2 -->
<div class="step locked" id="step2">
  <h2>2️⃣ Correction du pied boiteux</h2>
  <p>Entrer les lectures max-min (mils).</p>
  <input id="softFoot" type="number" placeholder="Différence mesurée (mils)">
  <button onclick="validateSoftFoot()">Valider pied boiteux</button>
  <div class="status" id="status2"></div>
</div>

<!-- ÉTAPE 3 -->
<div class="step locked" id="step3">
  <h2>3️⃣ Angularité verticale (12h–6h)</h2>
  <p>Lecture au comparateur (mils).</p>
  <input id="angV" type="number" placeholder="Lecture (mils)">
  <button onclick="validateStep(3)">Valider</button>
  <div class="status" id="status3"></div>
</div>

<!-- ÉTAPE 4 -->
<div class="step locked" id="step4">
  <h2>4️⃣ Parallélisme vertical</h2>
  <input id="parV" type="number" placeholder="Lecture (mils)">
  <button onclick="validateStep(4)">Valider</button>
  <div class="status" id="status4"></div>
</div>

<!-- ÉTAPE 5 -->
<div class="step locked" id="step5">
  <h2>5️⃣ Angularité horizontale (3h–9h)</h2>
  <input id="angH" type="number" placeholder="Lecture (mils)">
  <button onclick="validateStep(5)">Valider</button>
  <div class="status" id="status5"></div>
</div>

<!-- ÉTAPE 6 -->
<div class="step locked" id="step6">
  <h2>6️⃣ Parallélisme horizontal</h2>
  <input id="parH" type="number" placeholder="Lecture (mils)">
  <button onclick="validateStep(6)">Valider</button>
  <div class="status" id="status6"></div>
</div>

<script>
const state = {
  step: 1
};

function unlock(step){
  document.getElementById("step"+step).classList.remove("locked");
}

function validateStep(step){
  document.getElementById("status"+step).innerHTML =
    "<span class='ok'>✔ Étape validée</span>";
  unlock(step+1);
}

function validateSoftFoot(){
  const v = parseFloat(document.getElementById("softFoot").value);
  if(isNaN(v)){
    document.getElementById("status2").innerHTML =
      "<span class='bad'>Valeur invalide</span>";
    return;
  }

  if(v <= 3){
    document.getElementById("status2").innerHTML =
      "<span class='ok'>✔ Pied boiteux corrigé</span>";
    unlock(3);
  }else{
    document.getElementById("status2").innerHTML =
      "<span class='bad'>❌ Hors tolérance (&gt; 3 mils)</span>";
  }
}
</script>

</body>
</html>